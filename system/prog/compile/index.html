
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://kb.wolfyzhang.com/system/prog/compile/">
      
      
        <link rel="prev" href="../../OS/boot/">
      
      
        <link rel="next" href="../run/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.29">
    
    
      
        <title>Compile - wolfyzhang's knowledge base</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.76a95c52.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#compile" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="wolfyzhang&#39;s knowledge base" class="md-header__button md-logo" aria-label="wolfyzhang's knowledge base" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            wolfyzhang's knowledge base
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Compile
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8v2m9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.71-1.39 3.1-3.1 3.1h-4V17h4a5 5 0 0 0 5-5 5 5 0 0 0-5-5Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5M7 15a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/wolfyzhang-github/knowledge-base" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    knowledge-base
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../3c/toothbrushes/" class="md-tabs__link">
          
  
    
  
  3c

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../AI/deep_learning/" class="md-tabs__link">
          
  
    
  
  AI

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../business/schedule/" class="md-tabs__link">
          
  
    
  
  Business

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../OS/boot/" class="md-tabs__link">
          
  
    
  
  System

        </a>
      </li>
    
  

    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="wolfyzhang&#39;s knowledge base" class="md-nav__button md-logo" aria-label="wolfyzhang's knowledge base" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    wolfyzhang's knowledge base
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/wolfyzhang-github/knowledge-base" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    knowledge-base
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    3c
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            3c
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../3c/toothbrushes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Electric toothbrushes
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    AI
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            AI
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../AI/deep_learning/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deep Learning
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../AI/machine_learning/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Machine Learning
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../AI/nlp_cv/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    NLP & CV
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    LLMs
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            LLMs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../AI/LLMs/multi-agent/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Multi-Agent
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../AI/LLMs/rag/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RAG
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_4_3" >
        
          
          <label class="md-nav__link" for="__nav_3_4_3" id="__nav_3_4_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Applications
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4_3">
            <span class="md-nav__icon md-icon"></span>
            Applications
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../AI/LLMs/Applications/bi/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Business Intelligence
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Business
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Business
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../business/schedule/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Schedule
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  <span class="md-ellipsis">
    System
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            System
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_1" >
        
          
          <label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    OS
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            OS
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OS/boot/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Boot
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" checked>
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Prog
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            Prog
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Compile
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Compile
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#hello" class="md-nav__link">
    <span class="md-ellipsis">
      序言：依旧是 Hello
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#log" class="md-nav__link">
    <span class="md-ellipsis">
      细节：上 log
    </span>
  </a>
  
    <nav class="md-nav" aria-label="细节：上 log">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#log_1" class="md-nav__link">
    <span class="md-ellipsis">
      拿到 log
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#log_2" class="md-nav__link">
    <span class="md-ellipsis">
      分析 log
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      抽象概念
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#call" class="md-nav__link">
    <span class="md-ellipsis">
      理论：CALL + 经典三幕剧
    </span>
  </a>
  
    <nav class="md-nav" aria-label="理论：CALL + 经典三幕剧">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      经典编译理论
    </span>
  </a>
  
    <nav class="md-nav" aria-label="经典编译理论">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      额外的链接分析
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      三段式编译器设计
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#just-so-so" class="md-nav__link">
    <span class="md-ellipsis">
      深入：Just so so?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deeper-deeper" class="md-nav__link">
    <span class="md-ellipsis">
      现代：deeper &amp; deeper
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#to-be-a-thinker" class="md-nav__link">
    <span class="md-ellipsis">
      未来：to be a thinker
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#more" class="md-nav__link">
    <span class="md-ellipsis">
      更多：More
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../run/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Run
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#hello" class="md-nav__link">
    <span class="md-ellipsis">
      序言：依旧是 Hello
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#log" class="md-nav__link">
    <span class="md-ellipsis">
      细节：上 log
    </span>
  </a>
  
    <nav class="md-nav" aria-label="细节：上 log">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#log_1" class="md-nav__link">
    <span class="md-ellipsis">
      拿到 log
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#log_2" class="md-nav__link">
    <span class="md-ellipsis">
      分析 log
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      抽象概念
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#call" class="md-nav__link">
    <span class="md-ellipsis">
      理论：CALL + 经典三幕剧
    </span>
  </a>
  
    <nav class="md-nav" aria-label="理论：CALL + 经典三幕剧">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      经典编译理论
    </span>
  </a>
  
    <nav class="md-nav" aria-label="经典编译理论">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      额外的链接分析
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      三段式编译器设计
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#just-so-so" class="md-nav__link">
    <span class="md-ellipsis">
      深入：Just so so?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deeper-deeper" class="md-nav__link">
    <span class="md-ellipsis">
      现代：deeper &amp; deeper
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#to-be-a-thinker" class="md-nav__link">
    <span class="md-ellipsis">
      未来：to be a thinker
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#more" class="md-nav__link">
    <span class="md-ellipsis">
      更多：More
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="compile">Compile<a class="headerlink" href="#compile" title="Permanent link">&para;</a></h1>
<p><em>让机器听得懂人话</em></p>
<h2 id="hello">序言：依旧是 Hello<a class="headerlink" href="#hello" title="Permanent link">&para;</a></h2>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="cp">#include</span><span class="cpf">&lt;stdio.h&gt;</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;hello, world!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p><a href="https://en.wikipedia.org/wiki/The_C_Programming_Language">《The C Program Language》</a>出版以来就成为无数程序员入门圣经的 <code>hello</code> 程序对吧？OK，我们再来简单地编译、运行一下这个 <code>hello</code>：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>gcc<span class="w"> </span>hello.c<span class="w"> </span>-o<span class="w"> </span>hello
$<span class="w"> </span>./hello
hello,<span class="w"> </span>world!
</code></pre></div>
<p>调 gcc，给出文件名，加一个 <code>-o</code>  参数指定输出的可执行文件的文件名，就可以编译出来我们想要的可执行文件，再执行一下它，程序里的字符串就打印出来。</p>
<p>每一个合格的计算机相关专业的大一学生也都知道，这个过程其实就是：</p>
<pre class="mermaid"><code>graph LR
  A[C 代码] --&gt; |编译| B[二进制代码];</code></pre>
<p>具体一点，其中：</p>
<ol>
<li>「C代码」是扩展名为 <code>.c</code> 的文本文件，内容是字符串</li>
<li>「编译」是用编译器来进行的，编译器也有 gcc、clang 等各种不同的实现</li>
<li>「二进制代码」是扩展名为<code>.exe</code> 等（视运行环境而定）的可执行文件，内容是 0101 的位串。</li>
</ol>
<p>和充满着希望的大一新生相比，我这样的老古董没准要比他们知道的稍微多一点，这篇文章就是要介绍「编译」的过程，同时稍微体现一点老古董对写作技术小品文的思考。后浪们太汹涌了，前浪很害怕。</p>
<blockquote>
<p><strong>追问三连</strong></p>
<ul>
<li>怎么避免内容零碎逻辑不清晰？</li>
<li>怎么避免罗列概念掉书袋装孔老夫子？</li>
<li>怎么避免听君一席话如听一席话，看完大几千字结果只记住了几个天上掉下来的名词？</li>
</ul>
</blockquote>
<h2 id="log">细节：上 log<a class="headerlink" href="#log" title="Permanent link">&para;</a></h2>
<p>秉持「从实践中来到实践中去」的思想：要讲「编译」，一个比较好的办法就是直接上手编译一个程序来看看过程！刚刚我们已经编译过一个了，所以现在可以偷个懒。</p>
<p>也就是说，现在，我们需要对 <code>gcc hello.c -o hello</code> 这个命令的执行过程做一下考察！我们需要了解关于它的更多信息。</p>
<p>OK，信源又可以分为外部的和内部的，而我们现在显然不想去 Google 其他文章看介绍，也不想找大模型让它从概念上说一堆不明所以的名词——我们现在只是想搞清楚这个命令的执行过程，我们需要它本身给我们更多信息！</p>
<p><strong>这就引入了 <code>log</code> 。</strong></p>
<p>我们需要了解某个程序本身的执行过程，也就是具体去看它运行时的行为，如此，就可以考虑查看它的运行日志！日志是对程序执行状态的记录，通过它我们可以获取到程序在重要节点上的状态信息。</p>
<h3 id="log_1">拿到 log<a class="headerlink" href="#log_1" title="Permanent link">&para;</a></h3>
<p>那么怎么看 gcc 的日志？聪明的你肯定敏锐地意识到这是一个需要从外部信源获取信息的问题——Google/问 LLM 一下就可以知道，其实只需要加个 <code>-v</code>  的参数就可以了。</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>gcc<span class="w"> </span>-v<span class="w"> </span>hello.c<span class="w"> </span>-o<span class="w"> </span>hello
Using<span class="w"> </span>built-in<span class="w"> </span>specs.
<span class="nv">COLLECT_GCC</span><span class="o">=</span>gcc
<span class="nv">COLLECT_LTO_WRAPPER</span><span class="o">=</span>/usr/lib/gcc/x86_64-linux-gnu/11/lto-wrapper
<span class="nv">OFFLOAD_TARGET_NAMES</span><span class="o">=</span>nvptx-none:amdgcn-amdhsa
<span class="nv">OFFLOAD_TARGET_DEFAULT</span><span class="o">=</span><span class="m">1</span>
Target:<span class="w"> </span>x86_64-linux-gnu
Configured<span class="w"> </span>with:<span class="w"> </span>../src/configure<span class="w"> </span>-v<span class="w"> </span>--with-pkgversion<span class="o">=</span><span class="s1">&#39;Ubuntu 11.4.0-1ubuntu1~22.04&#39;</span><span class="w"> </span>--with-bugurl<span class="o">=</span>file:///usr/share/doc/gcc-11/README.Bugs<span class="w"> </span>--enable-languages<span class="o">=</span>c,ada,c++,go,brig,d,fortran,objc,obj-c++,m2<span class="w"> </span>--prefix<span class="o">=</span>/usr<span class="w"> </span>--with-gcc-major-version-only<span class="w"> </span>--program-suffix<span class="o">=</span>-11<span class="w"> </span>--program-prefix<span class="o">=</span>x86_64-linux-gnu-<span class="w"> </span>--enable-shared<span class="w"> </span>--enable-linker-build-id<span class="w"> </span>--libexecdir<span class="o">=</span>/usr/lib<span class="w"> </span>--without-included-gettext<span class="w"> </span>--enable-threads<span class="o">=</span>posix<span class="w"> </span>--libdir<span class="o">=</span>/usr/lib<span class="w"> </span>--enable-nls<span class="w"> </span>--enable-bootstrap<span class="w"> </span>--enable-clocale<span class="o">=</span>gnu<span class="w"> </span>--enable-libstdcxx-debug<span class="w"> </span>--enable-libstdcxx-time<span class="o">=</span>yes<span class="w"> </span>--with-default-libstdcxx-abi<span class="o">=</span>new<span class="w"> </span>--enable-gnu-unique-object<span class="w"> </span>--disable-vtable-verify<span class="w"> </span>--enable-plugin<span class="w"> </span>--enable-default-pie<span class="w"> </span>--with-system-zlib<span class="w"> </span>--enable-libphobos-checking<span class="o">=</span>release<span class="w"> </span>--with-target-system-zlib<span class="o">=</span>auto<span class="w"> </span>--enable-objc-gc<span class="o">=</span>auto<span class="w"> </span>--enable-multiarch<span class="w"> </span>--disable-werror<span class="w"> </span>--enable-cet<span class="w"> </span>--with-arch-32<span class="o">=</span>i686<span class="w"> </span>--with-abi<span class="o">=</span>m64<span class="w"> </span>--with-multilib-list<span class="o">=</span>m32,m64,mx32<span class="w"> </span>--enable-multilib<span class="w"> </span>--with-tune<span class="o">=</span>generic<span class="w"> </span>--enable-offload-targets<span class="o">=</span>nvptx-none<span class="o">=</span>/build/gcc-11-XeT9lY/gcc-11-11.4.0/debian/tmp-nvptx/usr,amdgcn-amdhsa<span class="o">=</span>/build/gcc-11-XeT9lY/gcc-11-11.4.0/debian/tmp-gcn/usr<span class="w"> </span>--without-cuda-driver<span class="w"> </span>--enable-checking<span class="o">=</span>release<span class="w"> </span>--build<span class="o">=</span>x86_64-linux-gnu<span class="w"> </span>--host<span class="o">=</span>x86_64-linux-gnu<span class="w"> </span>--target<span class="o">=</span>x86_64-linux-gnu<span class="w"> </span>--with-build-config<span class="o">=</span>bootstrap-lto-lean<span class="w"> </span>--enable-link-serialization<span class="o">=</span><span class="m">2</span>
Thread<span class="w"> </span>model:<span class="w"> </span>posix
Supported<span class="w"> </span>LTO<span class="w"> </span>compression<span class="w"> </span>algorithms:<span class="w"> </span>zlib<span class="w"> </span>zstd
gcc<span class="w"> </span>version<span class="w"> </span><span class="m">11</span>.4.0<span class="w"> </span><span class="o">(</span>Ubuntu<span class="w"> </span><span class="m">11</span>.4.0-1ubuntu1~22.04<span class="o">)</span>
<span class="nv">COLLECT_GCC_OPTIONS</span><span class="o">=</span><span class="s1">&#39;-v&#39;</span><span class="w"> </span><span class="s1">&#39;-o&#39;</span><span class="w"> </span><span class="s1">&#39;hello&#39;</span><span class="w"> </span><span class="s1">&#39;-mtune=generic&#39;</span><span class="w"> </span><span class="s1">&#39;-march=x86-64&#39;</span>
<span class="w"> </span>/usr/lib/gcc/x86_64-linux-gnu/11/cc1<span class="w"> </span>-quiet<span class="w"> </span>-v<span class="w"> </span>-imultiarch<span class="w"> </span>x86_64-linux-gnu<span class="w"> </span>hello.c<span class="w"> </span>-quiet<span class="w"> </span>-dumpbase<span class="w"> </span>hello.c<span class="w"> </span>-dumpbase-ext<span class="w"> </span>.c<span class="w"> </span>-mtune<span class="o">=</span>generic<span class="w"> </span>-march<span class="o">=</span>x86-64<span class="w"> </span>-version<span class="w"> </span>-fasynchronous-unwind-tables<span class="w"> </span>-fstack-protector-strong<span class="w"> </span>-Wformat<span class="w"> </span>-Wformat-security<span class="w"> </span>-fstack-clash-protection<span class="w"> </span>-fcf-protection<span class="w"> </span>-o<span class="w"> </span>/tmp/ccen7Fxl.s
GNU<span class="w"> </span>C17<span class="w"> </span><span class="o">(</span>Ubuntu<span class="w"> </span><span class="m">11</span>.4.0-1ubuntu1~22.04<span class="o">)</span><span class="w"> </span>version<span class="w"> </span><span class="m">11</span>.4.0<span class="w"> </span><span class="o">(</span>x86_64-linux-gnu<span class="o">)</span>
<span class="w">    </span>compiled<span class="w"> </span>by<span class="w"> </span>GNU<span class="w"> </span>C<span class="w"> </span>version<span class="w"> </span><span class="m">11</span>.4.0,<span class="w"> </span>GMP<span class="w"> </span>version<span class="w"> </span><span class="m">6</span>.2.1,<span class="w"> </span>MPFR<span class="w"> </span>version<span class="w"> </span><span class="m">4</span>.1.0,<span class="w"> </span>MPC<span class="w"> </span>version<span class="w"> </span><span class="m">1</span>.2.1,<span class="w"> </span>isl<span class="w"> </span>version<span class="w"> </span>isl-0.24-GMP

GGC<span class="w"> </span>heuristics:<span class="w"> </span>--param<span class="w"> </span>ggc-min-expand<span class="o">=</span><span class="m">100</span><span class="w"> </span>--param<span class="w"> </span>ggc-min-heapsize<span class="o">=</span><span class="m">131072</span>
ignoring<span class="w"> </span>nonexistent<span class="w"> </span>directory<span class="w"> </span><span class="s2">&quot;/usr/local/include/x86_64-linux-gnu&quot;</span>
ignoring<span class="w"> </span>nonexistent<span class="w"> </span>directory<span class="w"> </span><span class="s2">&quot;/usr/lib/gcc/x86_64-linux-gnu/11/include-fixed&quot;</span>
ignoring<span class="w"> </span>nonexistent<span class="w"> </span>directory<span class="w"> </span><span class="s2">&quot;/usr/lib/gcc/x86_64-linux-gnu/11/../../../../x86_64-linux-gnu/include&quot;</span>
<span class="c1">#include &quot;...&quot; search starts here:</span>
<span class="c1">#include &lt;...&gt; search starts here:</span>
<span class="w"> </span>/usr/lib/gcc/x86_64-linux-gnu/11/include
<span class="w"> </span>/usr/local/include
<span class="w"> </span>/usr/include/x86_64-linux-gnu
<span class="w"> </span>/usr/include
End<span class="w"> </span>of<span class="w"> </span>search<span class="w"> </span>list.
GNU<span class="w"> </span>C17<span class="w"> </span><span class="o">(</span>Ubuntu<span class="w"> </span><span class="m">11</span>.4.0-1ubuntu1~22.04<span class="o">)</span><span class="w"> </span>version<span class="w"> </span><span class="m">11</span>.4.0<span class="w"> </span><span class="o">(</span>x86_64-linux-gnu<span class="o">)</span>
<span class="w">    </span>compiled<span class="w"> </span>by<span class="w"> </span>GNU<span class="w"> </span>C<span class="w"> </span>version<span class="w"> </span><span class="m">11</span>.4.0,<span class="w"> </span>GMP<span class="w"> </span>version<span class="w"> </span><span class="m">6</span>.2.1,<span class="w"> </span>MPFR<span class="w"> </span>version<span class="w"> </span><span class="m">4</span>.1.0,<span class="w"> </span>MPC<span class="w"> </span>version<span class="w"> </span><span class="m">1</span>.2.1,<span class="w"> </span>isl<span class="w"> </span>version<span class="w"> </span>isl-0.24-GMP

GGC<span class="w"> </span>heuristics:<span class="w"> </span>--param<span class="w"> </span>ggc-min-expand<span class="o">=</span><span class="m">100</span><span class="w"> </span>--param<span class="w"> </span>ggc-min-heapsize<span class="o">=</span><span class="m">131072</span>
Compiler<span class="w"> </span>executable<span class="w"> </span>checksum:<span class="w"> </span>50eaa2331df977b8016186198deb2d18
<span class="nv">COLLECT_GCC_OPTIONS</span><span class="o">=</span><span class="s1">&#39;-v&#39;</span><span class="w"> </span><span class="s1">&#39;-o&#39;</span><span class="w"> </span><span class="s1">&#39;hello&#39;</span><span class="w"> </span><span class="s1">&#39;-mtune=generic&#39;</span><span class="w"> </span><span class="s1">&#39;-march=x86-64&#39;</span>
<span class="w"> </span>as<span class="w"> </span>-v<span class="w"> </span>--64<span class="w"> </span>-o<span class="w"> </span>/tmp/cc75m0ed.o<span class="w"> </span>/tmp/ccen7Fxl.s
GNU<span class="w"> </span>assembler<span class="w"> </span>version<span class="w"> </span><span class="m">2</span>.38<span class="w"> </span><span class="o">(</span>x86_64-linux-gnu<span class="o">)</span><span class="w"> </span>using<span class="w"> </span>BFD<span class="w"> </span>version<span class="w"> </span><span class="o">(</span>GNU<span class="w"> </span>Binutils<span class="w"> </span><span class="k">for</span><span class="w"> </span>Ubuntu<span class="o">)</span><span class="w"> </span><span class="m">2</span>.38
<span class="nv">COMPILER_PATH</span><span class="o">=</span>/usr/lib/gcc/x86_64-linux-gnu/11/:/usr/lib/gcc/x86_64-linux-gnu/11/:/usr/lib/gcc/x86_64-linux-gnu/:/usr/lib/gcc/x86_64-linux-gnu/11/:/usr/lib/gcc/x86_64-linux-gnu/
<span class="nv">LIBRARY_PATH</span><span class="o">=</span>/usr/lib/gcc/x86_64-linux-gnu/11/:/usr/lib/gcc/x86_64-linux-gnu/11/../../../x86_64-linux-gnu/:/usr/lib/gcc/x86_64-linux-gnu/11/../../../../lib/:/lib/x86_64-linux-gnu/:/lib/../lib/:/usr/lib/x86_64-linux-gnu/:/usr/lib/../lib/:/usr/lib/gcc/x86_64-linux-gnu/11/../../../:/lib/:/usr/lib/
<span class="nv">COLLECT_GCC_OPTIONS</span><span class="o">=</span><span class="s1">&#39;-v&#39;</span><span class="w"> </span><span class="s1">&#39;-o&#39;</span><span class="w"> </span><span class="s1">&#39;hello&#39;</span><span class="w"> </span><span class="s1">&#39;-mtune=generic&#39;</span><span class="w"> </span><span class="s1">&#39;-march=x86-64&#39;</span><span class="w"> </span><span class="s1">&#39;-dumpdir&#39;</span><span class="w"> </span><span class="s1">&#39;hello.&#39;</span>
<span class="w"> </span>/usr/lib/gcc/x86_64-linux-gnu/11/collect2<span class="w"> </span>-plugin<span class="w"> </span>/usr/lib/gcc/x86_64-linux-gnu/11/liblto_plugin.so<span class="w"> </span>-plugin-opt<span class="o">=</span>/usr/lib/gcc/x86_64-linux-gnu/11/lto-wrapper<span class="w"> </span>-plugin-opt<span class="o">=</span>-fresolution<span class="o">=</span>/tmp/cceWsRsk.res<span class="w"> </span>-plugin-opt<span class="o">=</span>-pass-through<span class="o">=</span>-lgcc<span class="w"> </span>-plugin-opt<span class="o">=</span>-pass-through<span class="o">=</span>-lgcc_s<span class="w"> </span>-plugin-opt<span class="o">=</span>-pass-through<span class="o">=</span>-lc<span class="w"> </span>-plugin-opt<span class="o">=</span>-pass-through<span class="o">=</span>-lgcc<span class="w"> </span>-plugin-opt<span class="o">=</span>-pass-through<span class="o">=</span>-lgcc_s<span class="w"> </span>--build-id<span class="w"> </span>--eh-frame-hdr<span class="w"> </span>-m<span class="w"> </span>elf_x86_64<span class="w"> </span>--hash-style<span class="o">=</span>gnu<span class="w"> </span>--as-needed<span class="w"> </span>-dynamic-linker<span class="w"> </span>/lib64/ld-linux-x86-64.so.2<span class="w"> </span>-pie<span class="w"> </span>-z<span class="w"> </span>now<span class="w"> </span>-z<span class="w"> </span>relro<span class="w"> </span>-o<span class="w"> </span>hello<span class="w"> </span>/usr/lib/gcc/x86_64-linux-gnu/11/../../../x86_64-linux-gnu/Scrt1.o<span class="w"> </span>/usr/lib/gcc/x86_64-linux-gnu/11/../../../x86_64-linux-gnu/crti.o<span class="w"> </span>/usr/lib/gcc/x86_64-linux-gnu/11/crtbeginS.o<span class="w"> </span>-L/usr/lib/gcc/x86_64-linux-gnu/11<span class="w"> </span>-L/usr/lib/gcc/x86_64-linux-gnu/11/../../../x86_64-linux-gnu<span class="w"> </span>-L/usr/lib/gcc/x86_64-linux-gnu/11/../../../../lib<span class="w"> </span>-L/lib/x86_64-linux-gnu<span class="w"> </span>-L/lib/../lib<span class="w"> </span>-L/usr/lib/x86_64-linux-gnu<span class="w"> </span>-L/usr/lib/../lib<span class="w"> </span>-L/usr/lib/gcc/x86_64-linux-gnu/11/../../..<span class="w"> </span>/tmp/cc75m0ed.o<span class="w"> </span>-lgcc<span class="w"> </span>--push-state<span class="w"> </span>--as-needed<span class="w"> </span>-lgcc_s<span class="w"> </span>--pop-state<span class="w"> </span>-lc<span class="w"> </span>-lgcc<span class="w"> </span>--push-state<span class="w"> </span>--as-needed<span class="w"> </span>-lgcc_s<span class="w"> </span>--pop-state<span class="w"> </span>/usr/lib/gcc/x86_64-linux-gnu/11/crtendS.o<span class="w"> </span>/usr/lib/gcc/x86_64-linux-gnu/11/../../../x86_64-linux-gnu/crtn.o
<span class="nv">COLLECT_GCC_OPTIONS</span><span class="o">=</span><span class="s1">&#39;-v&#39;</span><span class="w"> </span><span class="s1">&#39;-o&#39;</span><span class="w"> </span><span class="s1">&#39;hello&#39;</span><span class="w"> </span><span class="s1">&#39;-mtune=generic&#39;</span><span class="w"> </span><span class="s1">&#39;-march=x86-64&#39;</span><span class="w"> </span><span class="s1">&#39;-dumpdir&#39;</span><span class="w"> </span><span class="s1">&#39;hello.&#39;</span>
</code></pre></div>
<p>大量信息从终端中奔涌而出，居然原来什么也没输出的背后还潜藏着这么多的东西！这么多东西我们全看懂也不现实，但这不影响我们从事物本质的角度来剖析它。我们现在需要做的是从 <code>log</code>  里抽丝剥茧找到能描述清楚编译过程的信息，所以只需要看那种可以区分出来程序行为的不同阶段的内容就可以了。</p>
<p>以终端里空出来的回车换行为分界点：</p>
<h3 id="log_2">分析 log<a class="headerlink" href="#log_2" title="Permanent link">&para;</a></h3>
<p>第一段，可以发现有一些 gcc 的版本（<code>gcc version 11.4.0 (Ubuntu 11.4.0-1ubuntu1~22.04)</code>）和运行环境信息（<code>Target: x86_64-linux-gnu</code>），大概率是一些初始化还有状态检查的东西，这些不是我们需要主要关心的，PASS。</p>
<p>但是其中有两行是我们比较感兴趣的东西：</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nv">COLLECT_GCC_OPTIONS</span><span class="o">=</span><span class="s1">&#39;-v&#39;</span><span class="w"> </span><span class="s1">&#39;-o&#39;</span><span class="w"> </span><span class="s1">&#39;hello&#39;</span><span class="w"> </span><span class="s1">&#39;-mtune=generic&#39;</span><span class="w"> </span><span class="s1">&#39;-march=x86-64&#39;</span>
<span class="w"> </span>/usr/lib/gcc/x86_64-linux-gnu/11/cc1<span class="w"> </span>-quiet<span class="w"> </span>-v<span class="w"> </span>-imultiarch<span class="w"> </span>x86_64-linux-gnu<span class="w"> </span>hello.c<span class="w"> </span>-quiet<span class="w"> </span>-dumpbase<span class="w"> </span>hello.c<span class="w"> </span>-dumpbase-ext<span class="w"> </span>.c<span class="w"> </span>-mtune<span class="o">=</span>generic<span class="w"> </span>-march<span class="o">=</span>x86-64<span class="w"> </span>-version<span class="w"> </span>-fasynchronous-unwind-tables<span class="w"> </span>-fstack-protector-strong<span class="w"> </span>-Wformat<span class="w"> </span>-Wformat-security<span class="w"> </span>-fstack-clash-protection<span class="w"> </span>-fcf-protection<span class="w"> </span>-o<span class="w"> </span>/tmp/ccen7Fxl.s
</code></pre></div></td></tr></table></div>
<p>1、<strong>COLLECT_GCC_OPTIONS</strong> 是收集到的传递给 gcc 的选项。<code>-v</code> 表示显示详细的编译过程，<code>-o hello</code> 指定输出文件名为 <code>hello</code>，<code>-mtune=generic</code> 和 <code>-march=x86-64</code> 我们不了解，但猜测也是系统默认加上的和 x86-64 架构有关的参数，可以不重点 care。</p>
<p>2、它不是参数列表，也不是路径，也不是某个携带信息的纯字符串，那么在 Linux 里大概率就是一个命令，或者说就是一个可执行文件，后面的就是给它的参数。这个程序叫 <code>cc1</code>，可以发现携带了上面 <code>COLLECT_GCC_OPTIONS</code> 中的参数，而且还对 <code>hello.c</code> 和 <code>ccen7Fxl.s</code> 这两个文件做了操作。大胆猜测，<code>ccen7Fxl.s</code> 是不是 <code>hello.c</code> 经过 <code>cc1</code> 处理以后的输出？</p>
<p>第二段，可以发现这一段里也有一些我们感兴趣的东西：gcc 打印出三行 <code>ignoring nonexistent directory</code> ，字面意思就是说忽略了这三个不存在的路径；还有两行 <code>#include "/&lt;..."/&gt; search starts here:</code> ，其中 <code>"..."</code> 的没东西、<code>&lt;...&gt;</code> 的有四个路径（联系起来 C 中引号是自定义库，尖括号是系统库）；最后还说 <code>End of search list.</code> 。而且，仔细看会发现这几个路径里都有「include」。</p>
<p>联系一下 C 语言的语法细节——那么这一段大概率就是在找 <code>#include</code> 关键字后面的那个 <code>stdio.h</code> 了！</p>
<p>看一下对应路径里的内容有没有我们需要的东西：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>ls<span class="w"> </span>-al<span class="w"> </span>/usr/lib/gcc/x86_64-linux-gnu/11/include<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>stdio.h
$<span class="w"> </span>ls<span class="w"> </span>-al<span class="w"> </span>/usr/local/include<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>stdio.h
$<span class="w"> </span>ls<span class="w"> </span>-al<span class="w"> </span>/usr/include/x86_64-linux-gnu<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>stdio.h
$<span class="w"> </span>ls<span class="w"> </span>-al<span class="w"> </span>/usr/include<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>stdio.h
-rw-r--r--<span class="w">  </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w">  </span><span class="m">31176</span><span class="w"> </span>Apr<span class="w"> </span><span class="m">16</span><span class="w"> </span><span class="m">21</span>:40<span class="w"> </span>stdio.h
</code></pre></div>
<p>果真在第四个路径里！好了，这下 double check 了，log 里的第二段就是在找对应的头文件！到此，日志的 <span class="arithmatex">\(2/3\)</span> 我们都看过了。</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span></pre></div></td><td class="code"><div><pre><span></span><code>GGC<span class="w"> </span>heuristics:<span class="w"> </span>--param<span class="w"> </span>ggc-min-expand<span class="o">=</span><span class="m">100</span><span class="w"> </span>--param<span class="w"> </span>ggc-min-heapsize<span class="o">=</span><span class="m">131072</span>
Compiler<span class="w"> </span>executable<span class="w"> </span>checksum:<span class="w"> </span>50eaa2331df977b8016186198deb2d18
<span class="nv">COLLECT_GCC_OPTIONS</span><span class="o">=</span><span class="s1">&#39;-v&#39;</span><span class="w"> </span><span class="s1">&#39;-o&#39;</span><span class="w"> </span><span class="s1">&#39;hello&#39;</span><span class="w"> </span><span class="s1">&#39;-mtune=generic&#39;</span><span class="w"> </span><span class="s1">&#39;-march=x86-64&#39;</span>
<span class="w"> </span>as<span class="w"> </span>-v<span class="w"> </span>--64<span class="w"> </span>-o<span class="w"> </span>/tmp/cc75m0ed.o<span class="w"> </span>/tmp/ccen7Fxl.s
GNU<span class="w"> </span>assembler<span class="w"> </span>version<span class="w"> </span><span class="m">2</span>.38<span class="w"> </span><span class="o">(</span>x86_64-linux-gnu<span class="o">)</span><span class="w"> </span>using<span class="w"> </span>BFD<span class="w"> </span>version<span class="w"> </span><span class="o">(</span>GNU<span class="w"> </span>Binutils<span class="w"> </span><span class="k">for</span><span class="w"> </span>Ubuntu<span class="o">)</span><span class="w"> </span><span class="m">2</span>.38
<span class="nv">COMPILER_PATH</span><span class="o">=</span>/usr/lib/gcc/x86_64-linux-gnu/11/:/usr/lib/gcc/x86_64-linux-gnu/11/:/usr/lib/gcc/x86_64-linux-gnu/:/usr/lib/gcc/x86_64-linux-gnu/11/:/usr/lib/gcc/x86_64-linux-gnu/
<span class="nv">LIBRARY_PATH</span><span class="o">=</span>/usr/lib/gcc/x86_64-linux-gnu/11/:/usr/lib/gcc/x86_64-linux-gnu/11/../../../x86_64-linux-gnu/:/usr/lib/gcc/x86_64-linux-gnu/11/../../../../lib/:/lib/x86_64-linux-gnu/:/lib/../lib/:/usr/lib/x86_64-linux-gnu/:/usr/lib/../lib/:/usr/lib/gcc/x86_64-linux-gnu/11/../../../:/lib/:/usr/lib/
<span class="nv">COLLECT_GCC_OPTIONS</span><span class="o">=</span><span class="s1">&#39;-v&#39;</span><span class="w"> </span><span class="s1">&#39;-o&#39;</span><span class="w"> </span><span class="s1">&#39;hello&#39;</span><span class="w"> </span><span class="s1">&#39;-mtune=generic&#39;</span><span class="w"> </span><span class="s1">&#39;-march=x86-64&#39;</span><span class="w"> </span><span class="s1">&#39;-dumpdir&#39;</span><span class="w"> </span><span class="s1">&#39;hello.&#39;</span>
<span class="w"> </span>/usr/lib/gcc/x86_64-linux-gnu/11/collect2<span class="w"> </span>-plugin<span class="w"> </span>/usr/lib/gcc/x86_64-linux-gnu/11/liblto_plugin.so<span class="w"> </span>-plugin-opt<span class="o">=</span>/usr/lib/gcc/x86_64-linux-gnu/11/lto-wrapper<span class="w"> </span>-plugin-opt<span class="o">=</span>-fresolution<span class="o">=</span>/tmp/cceWsRsk.res<span class="w"> </span>-plugin-opt<span class="o">=</span>-pass-through<span class="o">=</span>-lgcc<span class="w"> </span>-plugin-opt<span class="o">=</span>-pass-through<span class="o">=</span>-lgcc_s<span class="w"> </span>-plugin-opt<span class="o">=</span>-pass-through<span class="o">=</span>-lc<span class="w"> </span>-plugin-opt<span class="o">=</span>-pass-through<span class="o">=</span>-lgcc<span class="w"> </span>-plugin-opt<span class="o">=</span>-pass-through<span class="o">=</span>-lgcc_s<span class="w"> </span>--build-id<span class="w"> </span>--eh-frame-hdr<span class="w"> </span>-m<span class="w"> </span>elf_x86_64<span class="w"> </span>--hash-style<span class="o">=</span>gnu<span class="w"> </span>--as-needed<span class="w"> </span>-dynamic-linker<span class="w"> </span>/lib64/ld-linux-x86-64.so.2<span class="w"> </span>-pie<span class="w"> </span>-z<span class="w"> </span>now<span class="w"> </span>-z<span class="w"> </span>relro<span class="w"> </span>-o<span class="w"> </span>hello<span class="w"> </span>/usr/lib/gcc/x86_64-linux-gnu/11/../../../x86_64-linux-gnu/Scrt1.o<span class="w"> </span>/usr/lib/gcc/x86_64-linux-gnu/11/../../../x86_64-linux-gnu/crti.o<span class="w"> </span>/usr/lib/gcc/x86_64-linux-gnu/11/crtbeginS.o<span class="w"> </span>-L/usr/lib/gcc/x86_64-linux-gnu/11<span class="w"> </span>-L/usr/lib/gcc/x86_64-linux-gnu/11/../../../x86_64-linux-gnu<span class="w"> </span>-L/usr/lib/gcc/x86_64-linux-gnu/11/../../../../lib<span class="w"> </span>-L/lib/x86_64-linux-gnu<span class="w"> </span>-L/lib/../lib<span class="w"> </span>-L/usr/lib/x86_64-linux-gnu<span class="w"> </span>-L/usr/lib/../lib<span class="w"> </span>-L/usr/lib/gcc/x86_64-linux-gnu/11/../../..<span class="w"> </span>/tmp/cc75m0ed.o<span class="w"> </span>-lgcc<span class="w"> </span>--push-state<span class="w"> </span>--as-needed<span class="w"> </span>-lgcc_s<span class="w"> </span>--pop-state<span class="w"> </span>-lc<span class="w"> </span>-lgcc<span class="w"> </span>--push-state<span class="w"> </span>--as-needed<span class="w"> </span>-lgcc_s<span class="w"> </span>--pop-state<span class="w"> </span>/usr/lib/gcc/x86_64-linux-gnu/11/crtendS.o<span class="w"> </span>/usr/lib/gcc/x86_64-linux-gnu/11/../../../x86_64-linux-gnu/crtn.o
<span class="nv">COLLECT_GCC_OPTIONS</span><span class="o">=</span><span class="s1">&#39;-v&#39;</span><span class="w"> </span><span class="s1">&#39;-o&#39;</span><span class="w"> </span><span class="s1">&#39;hello&#39;</span><span class="w"> </span><span class="s1">&#39;-mtune=generic&#39;</span><span class="w"> </span><span class="s1">&#39;-march=x86-64&#39;</span><span class="w"> </span><span class="s1">&#39;-dumpdir&#39;</span><span class="w"> </span><span class="s1">&#39;hello.&#39;</span>
</code></pre></div></td></tr></table></div>
<p>第三段：</p>
<p>4、<strong>as</strong>，一个叫 <code>as</code> 的程序，可以发现是对系统临时路径里的后缀为 <code>.o</code> 和 <code>.s</code> 的文件做操作。而且，<code>ccen7Fxl.s</code> 这个文件又出现了！</p>
<p>5、<strong>版本信息</strong>，本来不需要关注，但是这里不是 compiler 编译器，而是一个叫做 assembler 的程序，这就需要额外关注了。盲猜就是上面的 <code>as</code>。</p>
<p>6、<strong>COMPILER_PATH 和 LIBRARY_PATH</strong>，编译器和库路径，<strong>为什么编译器的路径要在这里给出来？又为什么和库路径一起给出来？</strong></p>
<p>8、<strong>COLLECT_GCC_OPTIONS</strong>，又显示了一遍收集到的给 gcc 的选项，但是比第 3 行多了一个选项： <code>-dumpdir hello.</code>，和 <code>hello</code> 程序的 <code>dumpdir</code> 有关。</p>
<p>9、<strong>collect2</strong>，和 <code>as</code> 类似，是一个命令，但是后面的参数却长得多。仔细观察可以发现，其中主要涉及到的文件类型有两种：<code>.so</code> 和 <code>.o</code>，那么这里的 <code>.o</code> 文件会不会和第 4 行 <code>as</code> 的 <code>.o</code> 文件有关系？再仔细看，会发现 <code>cc75m0ed.o</code> 这个文件真还出现在了这一行的参数里！</p>
<p>10、<strong>COLLECT_GCC_OPTIONS</strong>，最后又出现了一遍和第 8 行完全一致的参数列表。</p>
<p>虽然依旧存在很多疑问，但是我们起码从第三段里可以抽象出来：编译的过程，需要先处理头文件，准确来说是找到对应的头文件，然后调用一个叫做 <code>as</code> 的程序，再调用一个叫 <code>collect2</code> 的程序，而且 <code>as</code> 输出的 <code>.o</code> 文件还是 <code>collect2</code> 的一个重要输入。</p>
<p>那么我们完全可以去看一下那两个 <code>/tmp/cc75m0ed.o</code> 和 <code>/tmp/ccen7Fxl.s</code> 文件的内容：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>cat<span class="w"> </span>/tmp/cc75m0ed.o
cat:<span class="w"> </span>/tmp/cc75m0ed.o:<span class="w"> </span>No<span class="w"> </span>such<span class="w"> </span>file<span class="w"> </span>or<span class="w"> </span>directory
</code></pre></div>
<p>但是很遗憾，gcc 貌似不想让我们看到它们，把它们放在了系统 <code>/tmp</code> 目录下，随着上面 gcc 进程生命周期的结束，这个文件也被删除了。</p>
<p>难道我们真就看不到这个文件了？不！我们可以继续 Google/问 LLM，之后就可以发现 <code>-save-temps</code> 这个参数：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>gcc<span class="w"> </span>-save-temps<span class="w"> </span>hello.c<span class="w"> </span>-o<span class="w"> </span>hello
$<span class="w"> </span>ll
total<span class="w"> </span>48K
-rwxrwxr-x<span class="w"> </span><span class="m">1</span><span class="w"> </span>ghzhang<span class="w"> </span>ghzhang<span class="w">  </span>16K<span class="w"> </span>May<span class="w"> </span><span class="m">29</span><span class="w"> </span><span class="m">04</span>:00<span class="w"> </span>hello*
-rw-rw-r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>ghzhang<span class="w"> </span>ghzhang<span class="w">   </span><span class="m">73</span><span class="w"> </span>May<span class="w"> </span><span class="m">29</span><span class="w"> </span><span class="m">02</span>:50<span class="w"> </span>hello.c
-rw-rw-r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>ghzhang<span class="w"> </span>ghzhang<span class="w">  </span>18K<span class="w"> </span>May<span class="w"> </span><span class="m">29</span><span class="w"> </span><span class="m">04</span>:00<span class="w"> </span>hello.i
-rw-rw-r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>ghzhang<span class="w"> </span>ghzhang<span class="w"> </span><span class="m">1</span>.5K<span class="w"> </span>May<span class="w"> </span><span class="m">29</span><span class="w"> </span><span class="m">04</span>:00<span class="w"> </span>hello.o
-rw-rw-r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>ghzhang<span class="w"> </span>ghzhang<span class="w">  </span><span class="m">666</span><span class="w"> </span>May<span class="w"> </span><span class="m">29</span><span class="w"> </span><span class="m">04</span>:00<span class="w"> </span>hello.s
</code></pre></div>
<p>也就是说，从 <code>hello.c</code> 开始，编译过程中会产生这三个中间文件，最后产生 <code>hello</code> 这个可执行文件。那么我们分别打印它们看看：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>cat<span class="w"> </span>hello.i
<span class="c1"># 0 &quot;hello.c&quot;</span>
<span class="c1"># 0 &quot;&lt;built-in&gt;&quot;</span>
<span class="c1"># 0 &quot;&lt;command-line&gt;&quot;</span>
<span class="c1"># 1 &quot;/usr/include/stdc-predef.h&quot; 1 3 4</span>
<span class="c1"># 0 &quot;&lt;command-line&gt;&quot; 2</span>
<span class="c1"># 1 &quot;hello.c&quot;</span>
<span class="c1"># 1 &quot;/usr/include/stdio.h&quot; 1 3 4</span>
<span class="c1"># 27 &quot;/usr/include/stdio.h&quot; 3 4</span>
<span class="c1"># 1 &quot;/usr/include/x86_64-linux-gnu/bits/libc-header-start.h&quot; 1 3 4</span>
<span class="c1"># 33 &quot;/usr/include/x86_64-linux-gnu/bits/libc-header-start.h&quot; 3 4</span>
......
<span class="c1"># 209 &quot;/usr/lib/gcc/x86_64-linux-gnu/11/include/stddef.h&quot; 3 4</span>
typedef<span class="w"> </span>long<span class="w"> </span>unsigned<span class="w"> </span>int<span class="w"> </span>size_t<span class="p">;</span>
<span class="c1"># 34 &quot;/usr/include/stdio.h&quot; 2 3 4</span>
......
<span class="c1"># 1 &quot;/usr/include/x86_64-linux-gnu/bits/types/__mbstate_t.h&quot; 1 3 4</span>
<span class="c1"># 13 &quot;/usr/include/x86_64-linux-gnu/bits/types/__mbstate_t.h&quot; 3 4</span>
typedef<span class="w"> </span>struct
<span class="o">{</span>
<span class="w">  </span>int<span class="w"> </span>__count<span class="p">;</span>
<span class="w">  </span>union
<span class="w">  </span><span class="o">{</span>
<span class="w">    </span>unsigned<span class="w"> </span>int<span class="w"> </span>__wch<span class="p">;</span>
<span class="w">    </span>char<span class="w"> </span>__wchb<span class="o">[</span><span class="m">4</span><span class="o">]</span><span class="p">;</span>
<span class="w">  </span><span class="o">}</span><span class="w"> </span>__value<span class="p">;</span>
<span class="o">}</span><span class="w"> </span>__mbstate_t<span class="p">;</span>
<span class="c1"># 6 &quot;/usr/include/x86_64-linux-gnu/bits/types/__fpos_t.h&quot; 2 3 4</span>
......
struct<span class="w"> </span>_IO_FILE<span class="p">;</span>
......
extern<span class="w"> </span>int<span class="w"> </span>remove<span class="w"> </span><span class="o">(</span>const<span class="w"> </span>char<span class="w"> </span>*__filename<span class="o">)</span><span class="w"> </span>__attribute__<span class="w"> </span><span class="o">((</span>__nothrow__<span class="w"> </span>,<span class="w"> </span>__leaf__<span class="o">))</span><span class="p">;</span>
......
<span class="c1"># 885 &quot;/usr/include/stdio.h&quot; 3 4</span>
extern<span class="w"> </span>int<span class="w"> </span>__uflow<span class="w"> </span><span class="o">(</span>FILE<span class="w"> </span>*<span class="o">)</span><span class="p">;</span>
extern<span class="w"> </span>int<span class="w"> </span>__overflow<span class="w"> </span><span class="o">(</span>FILE<span class="w"> </span>*,<span class="w"> </span>int<span class="o">)</span><span class="p">;</span>
<span class="c1"># 902 &quot;/usr/include/stdio.h&quot; 3 4</span>
<span class="c1"># 2 &quot;hello.c&quot; 2</span>
<span class="c1"># 3 &quot;hello.c&quot;</span>
int<span class="w"> </span>main<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w"> </span>printf<span class="o">(</span><span class="s2">&quot;hello, world!\n&quot;</span><span class="o">)</span><span class="p">;</span>
<span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="m">0</span><span class="p">;</span>
<span class="o">}</span>
</code></pre></div>
<p><code>hello.i</code> 文件的内容很长，做一些精简处理后可以发现，实际上是把一些内容给替换到了原来 <code>#include&lt;stdio.h&gt;</code> 的位置，我们写的用户代码进行了保留。也就是说，<code>hello.i</code> 文件对应的是 log 第二段对头文件进行处理的部分。</p>
<p>再看 <code>hello.s</code> 文件：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>cat<span class="w"> </span>hello.s
<span class="w">    </span>.file<span class="w">   </span><span class="s2">&quot;hello.c&quot;</span>
<span class="w">    </span>.text
<span class="w">    </span>.section<span class="w">    </span>.rodata
.LC0:
<span class="w">    </span>.string<span class="w"> </span><span class="s2">&quot;hello, world!&quot;</span>
<span class="w">    </span>.text
<span class="w">    </span>.globl<span class="w">  </span>main
<span class="w">    </span>.type<span class="w">   </span>main,<span class="w"> </span>@function
main:
.LFB0:
<span class="w">    </span>.cfi_startproc
<span class="w">    </span>endbr64
<span class="w">    </span>pushq<span class="w">   </span>%rbp
<span class="w">    </span>.cfi_def_cfa_offset<span class="w"> </span><span class="m">16</span>
<span class="w">    </span>.cfi_offset<span class="w"> </span><span class="m">6</span>,<span class="w"> </span>-16
<span class="w">    </span>movq<span class="w">    </span>%rsp,<span class="w"> </span>%rbp
<span class="w">    </span>.cfi_def_cfa_register<span class="w"> </span><span class="m">6</span>
<span class="w">    </span>leaq<span class="w">    </span>.LC0<span class="o">(</span>%rip<span class="o">)</span>,<span class="w"> </span>%rax
<span class="w">    </span>movq<span class="w">    </span>%rax,<span class="w"> </span>%rdi
<span class="w">    </span>call<span class="w">    </span>puts@PLT
<span class="w">    </span>movl<span class="w">    </span><span class="nv">$0</span>,<span class="w"> </span>%eax
<span class="w">    </span>popq<span class="w">    </span>%rbp
<span class="w">    </span>.cfi_def_cfa<span class="w"> </span><span class="m">7</span>,<span class="w"> </span><span class="m">8</span>
<span class="w">    </span>ret
<span class="w">    </span>.cfi_endproc
.LFE0:
<span class="w">    </span>.size<span class="w">   </span>main,<span class="w"> </span>.-main
<span class="w">    </span>.ident<span class="w">  </span><span class="s2">&quot;GCC: (Ubuntu 11.4.0-1ubuntu1~22.04) 11.4.0&quot;</span>
<span class="w">    </span>.section<span class="w">    </span>.note.GNU-stack,<span class="s2">&quot;&quot;</span>,@progbits
<span class="w">    </span>.section<span class="w">    </span>.note.gnu.property,<span class="s2">&quot;a&quot;</span>
<span class="w">    </span>.align<span class="w"> </span><span class="m">8</span>
<span class="w">    </span>.long<span class="w">   </span>1f<span class="w"> </span>-<span class="w"> </span>0f
<span class="w">    </span>.long<span class="w">   </span>4f<span class="w"> </span>-<span class="w"> </span>1f
<span class="w">    </span>.long<span class="w">   </span><span class="m">5</span>
<span class="m">0</span>:
<span class="w">    </span>.string<span class="w"> </span><span class="s2">&quot;GNU&quot;</span>
<span class="m">1</span>:
<span class="w">    </span>.align<span class="w"> </span><span class="m">8</span>
<span class="w">    </span>.long<span class="w">   </span>0xc0000002
<span class="w">    </span>.long<span class="w">   </span>3f<span class="w"> </span>-<span class="w"> </span>2f
<span class="m">2</span>:
<span class="w">    </span>.long<span class="w">   </span>0x3
<span class="m">3</span>:
<span class="w">    </span>.align<span class="w"> </span><span class="m">8</span>
<span class="m">4</span>:
</code></pre></div>
<p>原来是汇编！而且是典型的 x86-64 汇编，也就是说，<code>cc1</code> 这个程序把 <code>hello.c</code> 处理成了 <code>hello.s</code> 的 x86-64 汇编！同样，顺藤摸瓜，比葫芦画瓢：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>cat<span class="w"> </span>hello.o
U�UH��H�H����<span class="o">]</span>�hello,<span class="w"> </span>world!GCC:<span class="w"> </span><span class="o">(</span>Ubuntu<span class="w"> </span><span class="m">11</span>.4.0-1ubuntu1~22.04<span class="o">)</span><span class="w"> </span><span class="m">11</span>.4.0GNU�zR�E�C
��<span class="w">  </span>hello.cmainputs
<span class="w">                       </span>����������������<span class="w"> </span>.symtab.strtab.shstrtab.rela.text.data.bss.rodata.comment.note.GNU-stack.note.gnu.property.rela.eh_frame<span class="w"> </span>@@�0
<span class="w">                                                                                                                                                    </span><span class="p">&amp;</span>^^1^90l,B�R�j�e@�
<span class="w">      </span>���
<span class="w">            </span>��t⏎
</code></pre></div>
<p><code>as</code> 又把 x86-64 汇编处理成了一个其中包含大量不可读的字符的文件，那干脆把 <code>hello</code> 文件也输出一下，做个比较：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>cat<span class="w"> </span>hello
@@@@�<span class="o">((</span>uu<span class="w">   </span>���-�<span class="o">=</span>�<span class="o">=</span>X<span class="sb">`</span>�-�<span class="o">=</span>�<span class="o">=</span>�8880hhhDDS�td8880P�td<span class="w">   </span>44Q�tdR�td�-�<span class="o">=</span>�<span class="o">=</span>HH/lib64/ld-linux-x86-64.so.2<span class="w"> </span>GNU���GNUf_Kwt�jG���A%������GNU��e�mH<span class="w"> </span><span class="s2">&quot;d s &quot;</span>__cxa_finalize__libc_start_mainputslibc.so.6GLIBC_2.2.5GLIBC_2.34_ITM_deregisterTMCloneTable__gmon_start___ITM_registerTMCloneTable<span class="s1">&#39;ui   1���=�@�?�?�?�?�?�?��H�H��/H��t��H���5�/��%�/��h�����������%�/D����%u/D��1�I��^H��H���PTE1�1�H�=��S/�f.�H�=y/H�r/H9�tH�6/H��t   �����H�=I/H�5B/H)�H��H��?H��H�H��tH�/H����fD����=/u+UH�=�.H��t</span>
<span class="s1">                                                                                                                                                      H�=�.�����d�����.]������w�����UH��H��H��������]���H�H��hello, world!;0</span>
<span class="s1">                                                       ���d,����&lt;����L���L5����zR�����&amp;D$4���� FJ</span>
<span class="s1">U                                                                                                �?:*3$&quot;\����t�����q���E�C</span>
<span class="s1">@&#39;</span>
h�����o���
�
<span class="w"> </span>�?�<span class="w">  </span>�������o<span class="w"> </span>���o���o���o�<span class="o">=</span>@GCC:<span class="w"> </span><span class="o">(</span>Ubuntu<span class="w"> </span><span class="m">11</span>.4.0-1ubuntu1~22.04<span class="o">)</span><span class="w"> </span><span class="m">11</span>.4.0��<span class="w">  </span>�<span class="w"> </span>���<span class="w"> </span>�3I@U�<span class="o">=</span><span class="p">|</span>@��<span class="o">=</span>�������<span class="w"> </span>����<span class="o">=</span>�<span class="w"> </span>��?�
<span class="w">                                                                                                                      </span>H<span class="w"> </span>@<span class="o">(</span><span class="m">9</span>@@hF@S<span class="w"> </span>@o<span class="w"> </span>~@L<span class="sb">`</span><span class="p">&amp;</span>�@�I�@�<span class="w"> </span>�<span class="s2">&quot;�</span>
<span class="s2">                                                                                                                                                     Scrt1.o__abi_tagcrtstuff.cderegister_tm_clones__do_global_dtors_auxcompleted.0__do_global_dtors_aux_fini_array_entryframe_dummy__frame_dummy_init_array_entryhello.c__FRAME_END___DYNAMIC__GNU_EH_FRAME_HDR_GLOBAL_OFFSET_TABLE___libc_start_main@GLIBC_2.34_ITM_deregisterTMCloneTableputs@GLIBC_2.2.5_edata_fini__data_start__gmon_start____dso_handle_IO_stdin_used_end__bss_startmain__TMC_END___ITM_registerTMCloneTable__cxa_finalize@GLIBC_2.2.5_init.symtab.strtab.shstrtab.interp.note.gnu.property.note.gnu.build-id.note.ABI-tag.gnu.hash.dynsym.dynstr.gnu.version.gnu.version_r.rela.dyn.rela.plt.init.plt.got.plt.sec.text.fini.rodata.eh_frame_hdr.eh_frame.init_array.fini_array.dynamic.data.bss.comment#886hh</span><span class="nv">$I</span><span class="s2">�� W���o��a</span>
<span class="s2">�  �  4�H H ������=�-��?�@0             ��i���q���o~���o  �PP���   �@@�PP�``�hh</span>
<span class="s2">                         @00+@0`�3�{5⏎</span>
</code></pre></div>
<p>可以看到，最后的 <code>hello</code> 在 <code>hello.o</code> 的基础上加了很多东西，还出现了 <code>lib64/ld-linux-x86-64.so.2</code> 这样的东西——盲猜和那个处理 <code>.so</code> 文件的 <code>collect2</code> 有关！</p>
<h3 id="_1">抽象概念<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h3>
<p>好了，我们终于可以在头脑里形成一个概念性的过程了：</p>
<pre class="mermaid"><code>graph LR
  A[hello.c] --&gt; |cc1| B(hello.s);
  B --&gt; |as| C(hello.o);
  C --&gt; |collect2| D[hello];</code></pre>
<p>但是那个 <code>hello.i</code> 文件呢？考虑到它并没有对我们的用户代码做大幅修改，也没有调用像是 <code>cc1</code> 这样的程序，它应该就是在最前面的一个流程：</p>
<pre class="mermaid"><code>graph LR
  A[hello.c] --&gt; B(hello.i);
  B --&gt; |cc1| C(hello.s);
  C --&gt; |as| D(hello.o);
  D --&gt; |collect2| E[hello];</code></pre>
<p>真是一段漫长的旅程呢，我们看了那么多的 log 和中间文件，最后只推理得到了一个这样的概念性的图示。到这里，前面那些细节就可以忘掉了。</p>
<h2 id="call">理论：CALL + 经典三幕剧<a class="headerlink" href="#call" title="Permanent link">&para;</a></h2>
<h3 id="_2">经典编译理论<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h3>
<p>我们终于要介绍一下理论上的编译过程了，有了前面的铺垫，对理论的理解也会更轻松和透彻一些：</p>
<pre class="mermaid"><code>%%{init: {"flowchart": {"htmlLabels": false}} }%%
flowchart TB
    A[Begin] --"source code(.c .cpp .h)"--&gt; cc
    subgraph cc
        direction TB
        B(Preprocessing) --"include header, expand macro(.i .ii)"--&gt; C(Compilation)
    end
    cc --"assembly code(.s)"--&gt; as
    subgraph as
        D(Assemble)
    end
    as --"machine code(.o .obj)"--&gt; ld
    F(libc) --"static library(.lib .a) or shared blibrary(.dll .so)"--&gt; ld
    subgraph ld
        E(Linking)
    end
    ld --"exectable machine code(.exe elf)"--&gt; G[end]</code></pre>
<p>如上图所示，一个 <code>gcc -o hello.exe hello.c</code>的编译步骤如下：</p>
<ol>
<li>预处理：编译器 <code>cc</code> 主要是做包含头文件（<code>#include</code>）以及扩展宏（<code>#define</code>）的操作，更具体地说，就是把头文件和宏都做替换。生成的中间文件 <code>hello.i</code> 包含预处理后的源代码</li>
<li>编译：编译器 <code>cc</code> 将预处理的源代码编译为面向特定体系结构的汇编代码。生成的汇编文件为 <code>hello.s</code></li>
<li>汇编：汇编器 <code>as</code> 将汇编代码转换为目标文件 <code>hello.o</code>中的机器代码，更具体地，就是把汇编代码按照指令集手册的标准转换为 0101 序列，即机器代码</li>
<li>链接：最后，链接器（<code>ld</code>）将目标文件与库文件链接起来，生成可执行文件 <code>hello</code></li>
</ol>
<p>这个过程中值得细说的东西还有很多。</p>
<p>结合我们上文对 gcc 编译日志的分析，首先，子程序 <code>cc1</code> 会被调用，触发「compilation」阶段，在这个阶段的处理过程中，遇到头文件或者宏时，会进入「preprocessing」阶段，做对应文件的替换或者宏展开，二者交替进行，最终生成完整的 <code>hello.s</code> 文件。</p>
<p>「assemble」阶段之后，<code>hello.s</code> 文件会被汇编成二进制的 <code>hello.o</code> 文件，也有人把这种文件叫做 <em>relocatable object file</em>，直译为 <em>可重定位目标文件</em>，具体含义是指该文件中没有对引用的系统库或其他第三方库做链接，所以是地址无关的一种文件，也不能直接运行，故「可重定位」。</p>
<p>具体地说，比如我们的 <code>hello.c</code> 中调用了 <code>stdio</code> 标准库中的 <code>printf</code> 函数，但我们只包含了 <code>stdio.h</code> 的头文件，头文件中又没有这个函数的具体实现，只有一个声明而已，那 <code>printf</code> 函数的实现究竟在哪？答案就是 libc，也就是对 C 标准库的一个实现。但是，在链接上 libc 这种标准库或者我们自己需要的第三方库之前，我们在做函数调用时并不能确定该函数跳转的位置，这就是所谓的「可重定位」的一个体现。</p>
<h4 id="_3">额外的链接分析<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h4>
<p>那么链接阶段又如何呢？好吧链接又分为 Static Linking 和 Dynamic Linking，分别对应于 Static Libraries (.lib .a) 和 Shared Library (.dll .so)。区别就是前者是直接将目标文件和静态库文件打包合并为最终的可执行文件，而后者则是把共享库的一个「特殊指针」写到目标文件中，待目标文件执行需要用到共享库时，再做动态的调用。</p>
<p>对应的优劣势也是显然的：静态链接的程序对运行时环境（runtime）的要求更低，但费空间，动态链接则反过来：省空间，库文件可复用，但万一运行时环境中没有对应的库文件，程序就跑不起来了。</p>
<p>可以做个小小的测试：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>gcc<span class="w"> </span>-o<span class="w"> </span>hello_static<span class="w"> </span>hello.c<span class="w"> </span>-static
$<span class="w"> </span>gcc<span class="w"> </span>-o<span class="w"> </span>hello_dynamic<span class="w"> </span>hello.c
$<span class="w"> </span>file<span class="w"> </span>hello_static
hello_static:<span class="w"> </span>ELF<span class="w"> </span><span class="m">64</span>-bit<span class="w"> </span>LSB<span class="w"> </span>executable,<span class="w"> </span>x86-64,<span class="w"> </span>version<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="o">(</span>GNU/Linux<span class="o">)</span>,<span class="w"> </span>statically<span class="w"> </span>linked,<span class="w"> </span>BuildID<span class="o">[</span>sha1<span class="o">]=</span>f5e96a4b7db3667493ac65f24e2de5fdcb78a4d1,<span class="w"> </span><span class="k">for</span><span class="w"> </span>GNU/Linux<span class="w"> </span><span class="m">3</span>.2.0,<span class="w"> </span>not<span class="w"> </span>stripped
$<span class="w"> </span>file<span class="w"> </span>hello_dynamic
hello_dynamic:<span class="w"> </span>ELF<span class="w"> </span><span class="m">64</span>-bit<span class="w"> </span>LSB<span class="w"> </span>pie<span class="w"> </span>executable,<span class="w"> </span>x86-64,<span class="w"> </span>version<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="o">(</span>SYSV<span class="o">)</span>,<span class="w"> </span>dynamically<span class="w"> </span>linked,<span class="w"> </span>interpreter<span class="w"> </span>/lib64/ld-linux-x86-64.so.2,<span class="w"> </span>BuildID<span class="o">[</span>sha1<span class="o">]=</span>665f4b77749f6a479ac9cd41259b9bdf0e9e88ed,<span class="w"> </span><span class="k">for</span><span class="w"> </span>GNU/Linux<span class="w"> </span><span class="m">3</span>.2.0,<span class="w"> </span>not<span class="w"> </span>stripped
$<span class="w"> </span>ll
total<span class="w"> </span>900K
-rw-rw-r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>ghzhang<span class="w"> </span>ghzhang<span class="w">   </span><span class="m">73</span><span class="w"> </span>May<span class="w"> </span><span class="m">29</span><span class="w"> </span><span class="m">02</span>:50<span class="w"> </span>hello.c
-rwxrwxr-x<span class="w"> </span><span class="m">1</span><span class="w"> </span>ghzhang<span class="w"> </span>ghzhang<span class="w">  </span>16K<span class="w"> </span>May<span class="w"> </span><span class="m">29</span><span class="w"> </span><span class="m">18</span>:20<span class="w"> </span>hello_dynamic*
-rwxrwxr-x<span class="w"> </span><span class="m">1</span><span class="w"> </span>ghzhang<span class="w"> </span>ghzhang<span class="w"> </span>880K<span class="w"> </span>May<span class="w"> </span><span class="m">29</span><span class="w"> </span><span class="m">18</span>:20<span class="w"> </span>hello_static*
</code></pre></div>
<p>结果是显然的。静态链接的程序比动态链接的大了 <span class="arithmatex">\(55\)</span> 倍！我们还可以看到动态链接的程序用到了 <code>/lib64/ld-linux-x86-64.so.2</code> 这个库文件，那我们顺藤摸瓜，去找一下：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>file<span class="w"> </span>/lib64/ld-linux-x86-64.so.2
/lib64/ld-linux-x86-64.so.2:<span class="w"> </span>symbolic<span class="w"> </span>link<span class="w"> </span>to<span class="w"> </span>/lib/x86_64-linux-gnu/ld-linux-x86-64.so.2
$<span class="w"> </span>file<span class="w"> </span>/lib/x86_64-linux-gnu/ld-linux-x86-64.so.2
/lib/x86_64-linux-gnu/ld-linux-x86-64.so.2:<span class="w"> </span>ELF<span class="w"> </span><span class="m">64</span>-bit<span class="w"> </span>LSB<span class="w"> </span>shared<span class="w"> </span>object,<span class="w"> </span>x86-64,<span class="w"> </span>version<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="o">(</span>GNU/Linux<span class="o">)</span>,<span class="w"> </span>dynamically<span class="w"> </span>linked,<span class="w"> </span>BuildID<span class="o">[</span>sha1<span class="o">]=</span>246ac0d8deba5a40c63e9a1a87d4d779d8eb589f,<span class="w"> </span>stripped
$<span class="w"> </span>ll<span class="w"> </span>/lib/x86_64-linux-gnu/ld-linux-x86-64.so.2
-rwxr-xr-x<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span>236K<span class="w"> </span>Apr<span class="w"> </span><span class="m">16</span><span class="w"> </span><span class="m">21</span>:40<span class="w"> </span>/lib/x86_64-linux-gnu/ld-linux-x86-64.so.2*
</code></pre></div>
<p>仅仅这一个共享库就 <code>236kb</code> 大，比静态链接的程序本身还要大 <span class="arithmatex">\(14.75\)</span> 倍！</p>
<p>其实，还可以做进一步的分析，比如对编译出来的 elf 文件做分析，查看具体代码段的位置和内容，可以更直观地看出两种链接方式的区别，不过现在也已经在把二者的实质性差异说清楚了。</p>
<h3 id="_4">三段式编译器设计<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h3>
<h2 id="just-so-so">深入：Just so so?<a class="headerlink" href="#just-so-so" title="Permanent link">&para;</a></h2>
<h2 id="deeper-deeper">现代：deeper &amp; deeper<a class="headerlink" href="#deeper-deeper" title="Permanent link">&para;</a></h2>
<h2 id="to-be-a-thinker">未来：to be a thinker<a class="headerlink" href="#to-be-a-thinker" title="Permanent link">&para;</a></h2>
<h2 id="more">更多：More<a class="headerlink" href="#more" title="Permanent link">&para;</a></h2>







  
    
  
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1-2.1-2M12.5 7v5.2l4 2.4-1 1L11 13V7h1.5M11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2v1.8Z"/></svg>
    </span>
    2024-07-15
  </span>

    
    
    
    
  </aside>





                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2024 Guohui Zhang
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["content.code.copy", "navigation.tabs", "navigation.indexes", "navigation.expand", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.fe8b6f2b.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@4.0.0-beta.4/tex-mml-chtml.min.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
      
    
  </body>
</html>